<script src="abcjs_basic_midi_3.1.3-min.js"></script>
<script>
// Periodically check reload checkbox state
setInterval(function() {
            if (window.location.href.split("?").pop() === "reload")
            window.location.reload();
            }, 2000);
</script>

<div id="score"></div>

<script>
onload = function() {

  // Create a new AJAX request
  var client = new XMLHttpRequest();

  // Set up handler for AJAX response
  client.onreadystatechange = function() {

    // Check response is a good one
    if (this.readyState === 4 && this.status === 200) {

      const score = client.responseText;
      console.log(score);
      ABCJS.renderAbc("score", score);
    }
  }

  // Request the file
  client.open("GET", "hallelujah.abc");
  client.send();
}
</script>
